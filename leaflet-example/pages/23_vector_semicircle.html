<!DOCTYPE html><html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=0,minimum-scale=1,maximum-scale=1"><meta name="apple-touch-fullscreen" content="yes"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="black"><meta name="format-detection" content="telephone=no"><meta name="x5-fullscreen" content="true"><meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1"><title>Leaflet地图</title><link href="css/style.css" rel="stylesheet"><script src="../lib/include-lib.js" libpath="../lib/" include="jquery,font-awesome,bootstrap,layer,haoutil,leaflet-mars,esri-leaflet"></script><script src="../lib/leafletPlugins/_vector/Semicircle.js"></script></head><body><div id="map" class="map"></div><script>var map;function initMap(){var e=haoutil.system.getRequestByName("config","config/gcj.json");L.mars.createMap({id:"map",url:e,success:function(e,i){map=e,initWork()}})}function initWork(){map.setView([30.7,115.6],10);for(var e=0;e<=12;e++)createCircle([31,115+.1*e],{startAngle:0,stopAngle:30*e}).addTo(map);for(e=0;e<=12;e++)createCircle([30.5,115+.1*e],{color:"#03f"}).setDirection(30*e,90).addTo(map);var i,t=L.semiCircle([30.7,115.2],{radius:5e3,weight:10,color:"#ff0",opacity:1,fillOpacity:.9}).setDirection(270,270).addTo(map),r=1;setInterval(function(){r+=.5,i=358-45*(1+Math.sin(r)),t.setDirection(270,i)},80),crateRangerings([30.7,115.5]).addTo(map),createConcentric([30.7,115.8],5e3)}function createCircle(e,i){return L.semiCircle(e,L.extend({radius:4e3,color:"#f03",opacity:.7,weight:2},i))}function crateRangerings(e,i){i=L.extend({count:8,interval:1e3,direction:0,spread:120},i);for(var t=L.featureGroup(),r=1;r<=i.count;r++)L.semiCircle(e,{radius:r*i.interval,fill:!1,color:"#000",weight:1}).setDirection(i.direction,i.spread).addTo(t);return t}function createConcentric(e,i){L.semiCircle(e,{radius:i,fillColor:"red",weight:0,fillOpacity:.8}).addTo(map),L.semiCircle(e,{radius:i,startAngle:90,stopAngle:250,fillColor:"white",weight:0,fillOpacity:.8}).addTo(map),L.semiCircle(e,{radius:i,startAngle:-45,stopAngle:45,fillColor:"white",weight:0,fillOpacity:.8}).addTo(map)}$(document).ready(function(){initMap()})</script></body></html>