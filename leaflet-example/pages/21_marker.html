<!DOCTYPE html><html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=0,minimum-scale=1,maximum-scale=1"><meta name="apple-touch-fullscreen" content="yes"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="black"><meta name="format-detection" content="telephone=no"><meta name="x5-fullscreen" content="true"><meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1"><title> Leaflet地图</title><link href="css/style.css" rel="stylesheet"><script src="../lib/include-lib.js" libpath="../lib/" include="jquery,font-awesome,bootstrap,layer,haoutil,leaflet-mars,esri-leaflet"></script><style>.jsondatalayer-tooltip{font-size:15px;background-color:rgba(255,255,255,.8);border:1px solid rgba(255,255,255,.8)}.jsondatalayer-popup{font-size:15px}</style></head><body><div id="centerDiv"><div id="map" class="map"></div></div><script>var map;function initMap(){var a=haoutil.system.getRequestByName("config","config/gcj.json");L.mars.createMap({id:"map",url:a,success:function(a,t,n){map=a,initWork()}})}function initWork(){for(var a=L.featureGroup().addTo(map),t=0;t<87;t++){var n=getRandomLatLng(),o=L.marker(n,{icon:L.icon({iconUrl:"img/marker/fx1.png",iconSize:[30,30],iconAnchor:[15,15],tooltipAnchor:[0,-15]})});o.bindTooltip("第"+t+"个maker",{className:"jsondatalayer-tooltip",direction:"top"}),o.bindPopup("popup<br/>可以是任意html",{className:"jsondatalayer-popup"}),a.addLayer(o)}}function getRandomLatLng(){var a=map.getBounds(),t=a.getSouthWest(),n=a.getNorthEast(),o=n.lng-t.lng,r=n.lat-t.lat;return L.latLng(t.lat+r*Math.random(),t.lng+o*Math.random())}$(document).ready(function(){initMap()})</script></body></html>