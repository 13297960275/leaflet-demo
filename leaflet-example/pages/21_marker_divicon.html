<!DOCTYPE html><html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=0,minimum-scale=1,maximum-scale=1"><meta name="apple-touch-fullscreen" content="yes"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="black"><meta name="format-detection" content="telephone=no"><meta name="x5-fullscreen" content="true"><meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1"><title> Leaflet地图</title><link href="css/style.css" rel="stylesheet"><script src="../lib/include-lib.js" libpath="../lib/" include="jquery,font-awesome,bootstrap,layer,haoutil,leaflet-mars,esri-leaflet"></script><style>.land-p-land{background:#ff6a00;border:#eee 2px solid;border-radius:50%;box-shadow:2px 0 4px rgba(0,0,0,.2)}.mapTips,.mapTips p,.mapTips p:after,.mapTips p:before,.mapTips:after,.mapTips:before{-webkit-box-sizing:border-box;-moz-box-sizing:border-box;-o-box-sizing:border-box;-ms-box-sizing:border-box;box-sizing:border-box}.mapTips{width:10px;height:10px;border-radius:50%;border:1px solid rgba(255,255,255,.5);cursor:pointer;color:#0ff;background:currentColor;position:absolute;z-index:3;left:50%;top:50%;box-shadow:0 0 2em currentColor,0 0 .5em currentColor}.mapTips.mapError{color:red}.mapTips.mapWarn{color:#b5a603}.mapTips.mapSuccess{color:#239233}.mapTips.mapOrange{color:#8c4d34}.mapTips p:after,.mapTips p:before,.mapTips:after,.mapTips:before{content:'';position:absolute;width:100%;height:100%;border-radius:50%}.mapTips:after,.mapTips:before{border:solid 1px currentColor;left:50%;top:50%;-webkit-animation:mapAni 1s ease infinite;-moz-animation:mapAni 1s ease infinite;-o-animation:mapAni 1s ease infinite;-ms-animation:mapAni 1s ease infinite;animation:mapAni 1s ease infinite}.mapTips p:before{border:solid 1px currentColor}.mapTips p{position:absolute;left:50%;top:50%;width:0;height:0;border-radius:50%;-webkit-animation:mapAni 2s ease infinite;-moz-animation:mapAni 2s ease infinite;-o-animation:mapAni 2s ease infinite;-ms-animation:mapAni 2s ease infinite;animation:mapAni 2s ease infinite}@-webkit-keyframes mapAni{0%{width:0;height:0;opacity:1}25%{width:12px;height:12px;-webkit-transform:translate(-50%,-50%);-moz-transform:translate(-50%,-50%);-o-transform:translate(-50%,-50%);-ms-transform:translate(-50%,-50%);transform:translate(-50%,-50%);opacity:.7}50%{width:20px;height:20px;-webkit-transform:translate(-50%,-50%);-moz-transform:translate(-50%,-50%);-o-transform:translate(-50%,-50%);-ms-transform:translate(-50%,-50%);transform:translate(-50%,-50%);opacity:.5}75%{width:30px;height:30px;-webkit-transform:translate(-50%,-50%);-moz-transform:translate(-50%,-50%);-o-transform:translate(-50%,-50%);-ms-transform:translate(-50%,-50%);transform:translate(-50%,-50%);opacity:.2}100%{width:40px;height:40px;-webkit-transform:translate(-50%,-50%);-moz-transform:translate(-50%,-50%);-o-transform:translate(-50%,-50%);-ms-transform:translate(-50%,-50%);transform:translate(-50%,-50%);opacity:0}}@-moz-keyframes mapAni{0%{width:0;height:0;opacity:1}25%{width:12px;height:12px;-webkit-transform:translate(-50%,-50%);-moz-transform:translate(-50%,-50%);-o-transform:translate(-50%,-50%);-ms-transform:translate(-50%,-50%);transform:translate(-50%,-50%);opacity:.7}50%{width:20px;height:20px;-webkit-transform:translate(-50%,-50%);-moz-transform:translate(-50%,-50%);-o-transform:translate(-50%,-50%);-ms-transform:translate(-50%,-50%);transform:translate(-50%,-50%);opacity:.5}75%{width:30px;height:30px;-webkit-transform:translate(-50%,-50%);-moz-transform:translate(-50%,-50%);-o-transform:translate(-50%,-50%);-ms-transform:translate(-50%,-50%);transform:translate(-50%,-50%);opacity:.2}100%{width:40px;height:40px;-webkit-transform:translate(-50%,-50%);-moz-transform:translate(-50%,-50%);-o-transform:translate(-50%,-50%);-ms-transform:translate(-50%,-50%);transform:translate(-50%,-50%);opacity:0}}@-o-keyframes mapAni{0%{width:0;height:0;opacity:1}25%{width:12px;height:12px;-webkit-transform:translate(-50%,-50%);-moz-transform:translate(-50%,-50%);-o-transform:translate(-50%,-50%);-ms-transform:translate(-50%,-50%);transform:translate(-50%,-50%);opacity:.7}50%{width:20px;height:20px;-webkit-transform:translate(-50%,-50%);-moz-transform:translate(-50%,-50%);-o-transform:translate(-50%,-50%);-ms-transform:translate(-50%,-50%);transform:translate(-50%,-50%);opacity:.5}75%{width:30px;height:30px;-webkit-transform:translate(-50%,-50%);-moz-transform:translate(-50%,-50%);-o-transform:translate(-50%,-50%);-ms-transform:translate(-50%,-50%);transform:translate(-50%,-50%);opacity:.2}100%{width:40px;height:40px;-webkit-transform:translate(-50%,-50%);-moz-transform:translate(-50%,-50%);-o-transform:translate(-50%,-50%);-ms-transform:translate(-50%,-50%);transform:translate(-50%,-50%);opacity:0}}@-ms-keyframes mapAni{0%{width:0;height:0;opacity:1}25%{width:12px;height:12px;-webkit-transform:translate(-50%,-50%);-moz-transform:translate(-50%,-50%);-o-transform:translate(-50%,-50%);-ms-transform:translate(-50%,-50%);transform:translate(-50%,-50%);opacity:.7}50%{width:20px;height:20px;-webkit-transform:translate(-50%,-50%);-moz-transform:translate(-50%,-50%);-o-transform:translate(-50%,-50%);-ms-transform:translate(-50%,-50%);transform:translate(-50%,-50%);opacity:.5}75%{width:30px;height:30px;-webkit-transform:translate(-50%,-50%);-moz-transform:translate(-50%,-50%);-o-transform:translate(-50%,-50%);-ms-transform:translate(-50%,-50%);transform:translate(-50%,-50%);opacity:.2}100%{width:40px;height:40px;-webkit-transform:translate(-50%,-50%);-moz-transform:translate(-50%,-50%);-o-transform:translate(-50%,-50%);-ms-transform:translate(-50%,-50%);transform:translate(-50%,-50%);opacity:0}}@keyframes mapAni{0%{width:0;height:0;opacity:1}25%{width:12px;height:12px;-webkit-transform:translate(-50%,-50%);-moz-transform:translate(-50%,-50%);-o-transform:translate(-50%,-50%);-ms-transform:translate(-50%,-50%);transform:translate(-50%,-50%);opacity:.7}50%{width:20px;height:20px;-webkit-transform:translate(-50%,-50%);-moz-transform:translate(-50%,-50%);-o-transform:translate(-50%,-50%);-ms-transform:translate(-50%,-50%);transform:translate(-50%,-50%);opacity:.5}75%{width:30px;height:30px;-webkit-transform:translate(-50%,-50%);-moz-transform:translate(-50%,-50%);-o-transform:translate(-50%,-50%);-ms-transform:translate(-50%,-50%);transform:translate(-50%,-50%);opacity:.2}100%{width:40px;height:40px;-webkit-transform:translate(-50%,-50%);-moz-transform:translate(-50%,-50%);-o-transform:translate(-50%,-50%);-ms-transform:translate(-50%,-50%);transform:translate(-50%,-50%);opacity:0}}</style></head><body><div id="map" class="map"></div><script>var map;function initMap(){var a=haoutil.system.getRequestByName("config","config/gcj.json");L.mars.createMap({id:"map",url:a,success:function(a,o){map=a,initWork()}})}function initWork(){for(var a=L.featureGroup().addTo(map),o=0;o<10;o++){var n=getRandomLatLng(),t="第"+o+"个文字点",i=t.replace(/[\u0391-\uFFE5]/g,"aa").length*(e=15)/2;(r=L.marker(n,{icon:L.divIcon({iconSize:[i,e],iconAnchor:[i/2,-e/2],className:"leaflet-text-marker",html:t})})).bindTooltip("第"+o+"个文字点",{direction:"top"}),a.addLayer(r)}for(o=0;o<6;o++){n=getRandomLatLng();var e=30;(r=L.marker(n,{icon:L.divIcon({className:"",html:'<i class="fa fa-tree" style="color:#037c80;font-size:'+e+'px;"></i> ',iconSize:[e,e]})})).bindTooltip("第"+o+"个fa字体图标",{direction:"top"}),a.addLayer(r)}for(o=0;o<6;o++){n=getRandomLatLng();(r=L.marker(n,{icon:L.divIcon({className:"land-p-land",iconSize:[15,15]})})).bindTooltip("第"+o+"小圆圈",{direction:"top"}),a.addLayer(r)}for(o=0;o<6;o++){var r;n=getRandomLatLng();(r=L.marker(n,{icon:L.divIcon({className:"",iconSize:[10,10],iconAnchor:[5,5],popupAnchor:[0,-5],tooltipAnchor:[0,-5],html:'<div class="mapTips" style="color:#0f89f5;"><p></p></div>'})})).bindTooltip("第"+o+"个动画点",{direction:"top"}),a.addLayer(r)}}function getRandomLatLng(){var a=map.getBounds(),o=a.getSouthWest(),n=a.getNorthEast(),t=n.lng-o.lng,i=n.lat-o.lat;return L.latLng(o.lat+i*Math.random(),o.lng+t*Math.random())}$(document).ready(function(){initMap()})</script></body></html>