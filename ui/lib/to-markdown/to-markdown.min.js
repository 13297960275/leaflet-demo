/* 2018-3-10 12:34:16 | 版权所有 合肥火星科技有限公司 http://www.marsgis.cn  【联系我们QQ：516584683，微信：marsgis】 */
!function(e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).toMarkdown=e()}(function(){return function i(a,c,l){function u(t,e){if(!c[t]){if(!a[t]){var n="function"==typeof require&&require;if(!e&&n)return n(t,!0);if(f)return f(t,!0);var r=new Error("Cannot find module '"+t+"'");throw r.code="MODULE_NOT_FOUND",r}var o=c[t]={exports:{}};a[t][0].call(o.exports,function(e){var n=a[t][1][e];return u(n||e)},o,o.exports,i,a,c,l)}return c[t].exports}for(var f="function"==typeof require&&require,e=0;e<l.length;e++)u(l[e]);return u}({1:[function(e,n,t){var a,c,l=e("./lib/md-converters"),u=e("./lib/gfm-converters"),f=e("./lib/html-parser"),d=e("collapse-whitespace"),r=["address","article","aside","audio","blockquote","body","canvas","center","dd","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frameset","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","isindex","li","main","menu","nav","noframes","noscript","ol","output","p","pre","section","table","tbody","td","tfoot","th","thead","tr","ul"];function s(e){return-1!==r.indexOf(e.nodeName.toLowerCase())}var o=["area","base","br","col","command","embed","hr","img","input","keygen","link","meta","param","source","track","wbr"];function p(e){return-1!==o.indexOf(e.nodeName.toLowerCase())}function m(e){for(var n="",t=0;t<e.childNodes.length;t++)if(1===e.childNodes[t].nodeType)n+=e.childNodes[t]._replacement;else{if(3!==e.childNodes[t].nodeType)continue;n+=e.childNodes[t].data}return n}function h(e,n){if("string"==typeof n)return n===e.nodeName.toLowerCase();if(Array.isArray(n))return-1!==n.indexOf(e.nodeName.toLowerCase());if("function"==typeof n)return n.call(a,e);throw new TypeError("`filter` needs to be a string, array, or function")}function i(e,n){var t,r,o;return"left"===e?(t=n.previousSibling,r=/ $/):(t=n.nextSibling,r=/^ /),t&&(3===t.nodeType?o=r.test(t.nodeValue):1!==t.nodeType||s(t)||(o=r.test(t.textContent))),o}function g(e){var n="",t="";if(!s(e)){var r=/^[ \r\n\t]/.test(e.innerHTML),o=/[ \r\n\t]$/.test(e.innerHTML);r&&!i("left",e)&&(n=" "),o&&!i("right",e)&&(t=" ")}return{leading:n,trailing:t}}function v(e){var n,t=m(e);if(p(e)||/A|TH|TD/.test(e.nodeName)||!/^\s*$/i.test(t)){for(var r=0;r<c.length;r++){var o=c[r];if(h(e,o.filter)){if("function"!=typeof o.replacement)throw new TypeError("`replacement` needs to be a function that returns a string");var i=g(e);(i.leading||i.trailing)&&(t=t.trim()),n=i.leading+o.replacement.call(a,t,e)+i.trailing;break}}e._replacement=n}else e._replacement=""}(a=function(e,n){if(n=n||{},"string"!=typeof e)throw new TypeError(e+" is not a string");e=e.replace(/(\d+)\. /g,"$1\\. ");var t,r,o=(t=e,r=(new f).parseFromString(t,"text/html"),d(r.documentElement,s),r).body,i=function(e){for(var n,t,r,o=[e],i=[];0<o.length;)for(n=o.shift(),i.push(n),t=n.childNodes,r=0;r<t.length;r++)1===t[r].nodeType&&o.push(t[r]);return i.shift(),i}(o);c=l.slice(0),n.gfm&&(c=u.concat(c)),n.converters&&(c=n.converters.concat(c));for(var a=i.length-1;0<=a;a--)v(i[a]);return m(o).replace(/^[\t\r\n]+|[\t\r\n\s]+$/g,"").replace(/\n\s+\n/g,"\n\n").replace(/\n{3,}/g,"\n\n")}).isBlock=s,a.isVoid=p,a.outer=function(e,n){return e.cloneNode(!1).outerHTML.replace("><",">"+n+"<")},n.exports=a},{"./lib/gfm-converters":2,"./lib/html-parser":3,"./lib/md-converters":4,"collapse-whitespace":7}],2:[function(e,n,t){function c(e,n){var t=" ";return 0===Array.prototype.indexOf.call(n.parentNode.childNodes,n)&&(t="| "),t+e+" |"}var r=/highlight highlight-(\S+)/;n.exports=[{filter:"br",replacement:function(){return"\n"}},{filter:["del","s","strike"],replacement:function(e){return"~~"+e+"~~"}},{filter:function(e){return"checkbox"===e.type&&"LI"===e.parentNode.nodeName},replacement:function(e,n){return(n.checked?"[x]":"[ ]")+" "}},{filter:["th","td"],replacement:function(e,n){return c(e,n)}},{filter:"tr",replacement:function(e,n){var t="",r={left:":--",right:"--:",center:":-:"};if("THEAD"===n.parentNode.nodeName)for(var o=0;o<n.childNodes.length;o++){var i=n.childNodes[o].attributes.align,a="---";i&&(a=r[i.value]||a),t+=c(a,n.childNodes[o])}return"\n"+e+(t?"\n"+t:"")}},{filter:"table",replacement:function(e){return"\n\n"+e+"\n\n"}},{filter:["thead","tbody","tfoot"],replacement:function(e){return e}},{filter:function(e){return"PRE"===e.nodeName&&e.firstChild&&"CODE"===e.firstChild.nodeName},replacement:function(e,n){return"\n\n```\n"+n.firstChild.textContent+"\n```\n\n"}},{filter:function(e){return"PRE"===e.nodeName&&"DIV"===e.parentNode.nodeName&&r.test(e.parentNode.className)},replacement:function(e,n){return"\n\n```"+n.parentNode.className.match(r)[1]+"\n"+n.textContent+"\n```\n\n"}},{filter:function(e){return"DIV"===e.nodeName&&r.test(e.className)},replacement:function(e){return"\n\n"+e+"\n\n"}}]},{}],3:[function(t,e,n){var r="undefined"!=typeof window?window:this;e.exports=function(){var e=r.DOMParser,n=!1;try{(new e).parseFromString("","text/html")&&(n=!0)}catch(e){}return n}()?r.DOMParser:function(){var e=function(){};if("undefined"==typeof document){var n=t("jsdom");e.prototype.parseFromString=function(e){return n.jsdom(e,{features:{FetchExternalResources:[],ProcessExternalResources:!1}})}}else e.prototype.parseFromString=function(){var n=!1;try{document.implementation.createHTMLDocument("").open()}catch(e){window.ActiveXObject&&(n=!0)}return n}()?function(e){var n=new window.ActiveXObject("htmlfile");return n.designMode="on",n.open(),n.write(e),n.close(),n}:function(e){var n=document.implementation.createHTMLDocument("");return n.open(),n.write(e),n.close(),n};return e}()},{jsdom:6}],4:[function(e,n,t){n.exports=[{filter:"p",replacement:function(e){return"\n\n"+e+"\n\n"}},{filter:"br",replacement:function(){return"  \n"}},{filter:["h1","h2","h3","h4","h5","h6"],replacement:function(e,n){for(var t=n.nodeName.charAt(1),r="",o=0;o<t;o++)r+="#";return"\n\n"+r+" "+e+"\n\n"}},{filter:"hr",replacement:function(){return"\n\n* * *\n\n"}},{filter:["em","i"],replacement:function(e){return"_"+e+"_"}},{filter:["strong","b"],replacement:function(e){return"**"+e+"**"}},{filter:function(e){var n=e.previousSibling||e.nextSibling,t="PRE"===e.parentNode.nodeName&&!n;return"CODE"===e.nodeName&&!t},replacement:function(e){return"`"+e+"`"}},{filter:function(e){return"A"===e.nodeName&&e.getAttribute("href")},replacement:function(e,n){var t=n.title?' "'+n.title+'"':"";return"["+e+"]("+n.getAttribute("href")+t+")"}},{filter:"img",replacement:function(e,n){var t=n.alt||"",r=n.getAttribute("src")||"",o=n.title||"";return r?"!["+t+"]("+r+(o?' "'+o+'"':"")+")":""}},{filter:function(e){return"PRE"===e.nodeName&&"CODE"===e.firstChild.nodeName},replacement:function(e,n){return"\n\n    "+n.firstChild.textContent.replace(/\n/g,"\n    ")+"\n\n"}},{filter:"blockquote",replacement:function(e){return"\n\n"+(e=(e=(e=e.trim()).replace(/\n{3,}/g,"\n\n")).replace(/^/gm,"> "))+"\n\n"}},{filter:"li",replacement:function(e,n){e=e.replace(/^\s+/,"").replace(/\n/gm,"\n    ");var t=n.parentNode,r=Array.prototype.indexOf.call(t.children,n)+1;return(/ol/i.test(t.nodeName)?r+".  ":"*   ")+e}},{filter:["ul","ol"],replacement:function(e,n){for(var t=[],r=0;r<n.childNodes.length;r++)t.push(n.childNodes[r]._replacement);return/li/i.test(n.parentNode.nodeName)?"\n"+t.join("\n"):"\n\n"+t.join("\n")+"\n\n"}},{filter:function(e){return this.isBlock(e)},replacement:function(e,n){return"\n\n"+this.outer(n,e)+"\n\n"}},{filter:function(){return!0},replacement:function(e,n){return this.outer(n,e)}}]},{}],5:[function(e,n,t){n.exports=["address","article","aside","audio","blockquote","canvas","dd","div","dl","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","main","nav","noscript","ol","output","p","pre","section","table","tfoot","ul","video"]},{}],6:[function(e,n,t){},{}],7:[function(e,n,t){var u=e("void-elements");Object.keys(u).forEach(function(e){u[e.toUpperCase()]=1});var r={};function f(e){return!(!e||!r[e.nodeName])}function d(e){var n=e.nextSibling||e.parentNode;return e.parentNode.removeChild(e),n}function s(e,n){return e&&e.parentNode===n||"PRE"===n.nodeName?n.nextSibling||n.parentNode:n.firstChild||n.nextSibling||n.parentNode}e("block-elements").forEach(function(e){r[e.toUpperCase()]=1}),n.exports=function(e,n){if(e.firstChild&&"PRE"!==e.nodeName){"function"!=typeof n&&(n=f);for(var t,r=null,o=!1,i=null,a=s(i,e);a!==e;){if(3===a.nodeType){var c=a.data.replace(/[ \r\n\t]+/g," ");if(r&&!/ $/.test(r.data)||o||" "!==c[0]||(c=c.substr(1)),!c){a=d(a);continue}a.data=c,r=a}else{if(1!==a.nodeType){a=d(a);continue}n(a)||"BR"===a.nodeName?(r&&(r.data=r.data.replace(/ $/,"")),r=null,o=!1):(t=a)&&u[t.nodeName]&&(o=!(r=null))}var l=s(i,a);i=a,a=l}r&&(r.data=r.data.replace(/ $/,""),r.data||d(r))}}},{"block-elements":5,"void-elements":8}],8:[function(e,n,t){n.exports={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,menuitem:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0}},{}]},{},[1])(1)});