!function(l){"use strict";function d(t){var n=l("");try{n=l(t).clone()}catch(e){n=l("<span />").html(t)}return n}function f(t,e,n){var r=l.Deferred();try{var o=(t=t.contentWindow||t.contentDocument||t).document||t.contentDocument||t;n.doctype&&o.write(n.doctype),o.write(e),o.close();var i=!1,a=function(){if(!i){t.focus();try{t.document.execCommand("print",!1,null)||t.print(),l("body").focus()}catch(e){t.print()}t.close(),i=!0,r.resolve()}};l(t).on("load",a),setTimeout(a,n.timeout)}catch(e){r.reject(e)}return r}function s(e,t){return f(window.open(),e,t).always(function(){try{t.deferred.resolve()}catch(e){console.warn("Error notifying deferred",e)}})}function p(e){return!!("object"==typeof Node?e instanceof Node:e&&"object"==typeof e&&"number"==typeof e.nodeType&&"string"==typeof e.nodeName)}l.print=l.fn.print=function(){var t,e,n=this;n instanceof l&&(n=n.get(0)),p(n)?(e=l(n),0<arguments.length&&(t=arguments[0])):0<arguments.length?p((e=l(arguments[0]))[0])?1<arguments.length&&(t=arguments[1]):(t=arguments[0],e=l("html")):e=l("html");var r={globalStyles:!0,mediaPrint:!1,stylesheet:null,noPrintSelector:".no-print",iframe:!0,append:null,prepend:null,manuallyCopyFormValues:!0,deferred:l.Deferred(),timeout:750,title:null,doctype:"<!doctype html>"};t=l.extend({},r,t||{});var o=l("");t.globalStyles?o=l("style, link, meta, base, title"):t.mediaPrint&&(o=l("link[media=print]")),t.stylesheet&&(o=l.merge(o,l('<link rel="stylesheet" href="'+t.stylesheet+'">')));var i=e.clone();if((i=l("<span/>").append(i)).find(t.noPrintSelector).remove(),i.append(o.clone()),t.title){var a=l("title",i);0===a.length&&(a=l("<title />"),i.append(a)),a.text(t.title)}i.append(d(t.append)),i.prepend(d(t.prepend)),t.manuallyCopyFormValues&&(i.find("input").each(function(){var e=l(this);e.is("[type='radio']")||e.is("[type='checkbox']")?e.prop("checked")&&e.attr("checked","checked"):e.attr("value",e.val())}),i.find("select").each(function(){l(this).find(":selected").attr("selected","selected")}),i.find("textarea").each(function(){var e=l(this);e.text(e.val())}));var c=i.html();try{t.deferred.notify("generated_markup",c,i)}catch(e){console.warn("Error notifying deferred",e)}if(i.remove(),t.iframe)try{!function(t,n){var e=l(n.iframe+""),r=e.length;0===r&&(e=l('<iframe height="0" width="0" border="0" wmode="Opaque"/>').prependTo("body").css({position:"absolute",top:-999,left:-999})),f(e.get(0),t,n).done(function(){setTimeout(function(){0===r&&e.remove()},1e3)}).fail(function(e){console.error("Failed to print from iframe",e),s(t,n)}).always(function(){try{n.deferred.resolve()}catch(e){console.warn("Error notifying deferred",e)}})}(c,t)}catch(e){console.error("Failed to print from iframe",e.stack,e.message),s(c,t)}else s(c,t);return this}}(jQuery);