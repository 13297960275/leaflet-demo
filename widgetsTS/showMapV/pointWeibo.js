L.widget.bindClass(L.widget.BaseWidget.extend({options:{},layerWork:null,create:function(){this.layerWork=L.featureGroup()},activate:function(){map.changeBaseMap("谷歌卫星"),map.addLayer(this.layerWork);var e=this;$.ajax({url:"data/apidemo/weibo.json",type:"GET",dataType:"json",success:function(a){e.isActivate&&e.showMapV(a)}})},disable:function(){map.changeBaseMap(0),map.removeLayer(this.layerWork)},showMapV:function(a){map.setView([38.028658,105.403119],4);for(var e=[],t=[],o=[],i=0;i<a[0].length;i++){var r=a[0][i].geoCoord;e.push({geometry:{type:"Point",coordinates:r}})}for(i=0;i<a[1].length;i++){r=a[1][i].geoCoord;t.push({geometry:{type:"Point",coordinates:r},time:10*Math.random()})}for(i=0;i<a[2].length;i++){r=a[2][i].geoCoord;o.push({geometry:{type:"Point",coordinates:r}})}var s=new mapv.DataSet(e),n={fillStyle:"rgba(200, 200, 0, 0.8)",bigData:"Point",size:.7,draw:"simple"};L.mapVLayer(s,n).addTo(this.layerWork);s=new mapv.DataSet(t),n={fillStyle:"rgba(255, 250, 0, 0.8)",size:.7,bigData:"Point",draw:"simple"};L.mapVLayer(s,n).addTo(this.layerWork);s=new mapv.DataSet(o),n={fillStyle:"rgba(255, 250, 250, 0.6)",size:.7,bigData:"Point",draw:"simple"};L.mapVLayer(s,n).addTo(this.layerWork);s=new mapv.DataSet(t),n={fillStyle:"rgba(255, 250, 250, 0.9)",size:1.1,draw:"simple",bigData:"Point",animation:{stepsRange:{start:0,end:10},trails:1,duration:6}};L.mapVLayer(s,n).addTo(this.layerWork)}}));