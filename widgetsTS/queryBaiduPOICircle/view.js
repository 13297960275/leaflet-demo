var thisWidget;function initWidgetView(t){thisWidget=t,$("#btnShowResult").hide(),$("#txtRadius").bind("input propertychange",function(){var t=$("#txtRadius").val();isNaN(t)&&(t=1),thisWidget.updateRadius(1e3*t)})}function startSelectMpt(){var t=$("#txtRadius").val();isNaN(t)&&(t=1),thisWidget.startSelectMpt(1e3*t)}function selectMptEnd(t){$("#txtLocation").val(t)}function queryPOI(){var t=$("#txtLocation").val(),e=$("#txtRadius").val(),i=$("#txtType").val(),a=$("#txtText").val();0!=t.length?isNaN(e)||e<0?toastr.warning("半径输入有误"):0!=a.length?thisWidget.strartQueryPOI({location:t,radius:1e3*e,type:i,text:a}):toastr.warning("请输入关键字"):toastr.warning("请在图上选择坐标")}function showQueryView(){$("#querybar_resultlist_view").hide(),$("#queryView").show()}function showResultView(){$("#queryView").hide(),$("#querybar_resultlist_view").show()}function showPOIResult(t){var e='<div ><input type="button" class="btn btn-primary" value="返回" onclick="showQueryView()"></div>';if(0==t.counts)e+='<div class="querybar-page"><div class="querybar-fl">没有找到相关结果</div></div>';else{var i;i=1<t.allpage?'<div class="querybar-ye querybar-fr">'+t.thispage+"/"+t.allpage+'页  <a href="javascript:thisWidget.showFirstPage()">首页</a> <a href="javascript:thisWidget.showPretPage()">&lt;</a>  <a href="javascript:thisWidget.showNextPage()">&gt;</a> </div>':"",e+='<div class="querybar-page "><div class="querybar-fl">找到<strong>'+t.counts+"</strong>条结果</div>"+i+"</div><br/><br/>";for(var a=0;a<t.arrdata.length;a++){var s=t.arrdata[a],r=(t.thispage-1)*t.pageSize;s.index=r+(a+1);var n=a,u=s.name;e+='<div class="querybar-site" onclick="thisWidget.showDetail(\''+n+'\')"> <div class="querybar-sitejj"> <h3>'+s.index+"、"+u+"</h3> <p>"+(s.address||"")+"</p> </div> </div>"}}$("#querybar_resultlist_view").html(e),$("#queryView").hide(),$("#querybar_resultlist_view").show(),$("#btnShowResult").show()}