var thisWidget,arrData,featureCollection,echarsNameObj,myChart;function getHeight(){var t=$(window).height()-0;$("#echartsView").height(t),myChart&&myChart.resize()}function initWidgetView(t){thisWidget=t,getHeight(),$(window).resize(getHeight),(myChart=echarts.init(document.getElementById("echartsView"))).on("mouseover",function(t){thisWidget.showPolyTip(t.name)}),myChart.on("mouseout",function(t){thisWidget.hidePolyTip(t.name)})}function updateData(t,e,i){var a=t.title+"("+t.unit+")";echarsNameObj={};for(var n=0;n<e.length;n++)echarsNameObj[e[n]]=n;var o={title:{text:t.title,subtext:t.unit,left:"center",top:5},tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},calculable:!0,xAxis:[{data:e,axisLine:{lineStyle:{color:"#999"}}}],yAxis:{splitLine:{show:!1},axisLine:{lineStyle:{color:"#999"}}},dataZoom:[{type:"slider",show:!0,start:0,end:100}],series:[{name:a,type:"bar",data:i,itemStyle:{normal:{color:function(t){return thisWidget.getColor(t.data)},label:{show:!1,position:"top",formatter:"{b}\n{c}"}}}}]};myChart.setOption(o,!0)}function showTip(t){myChart.dispatchAction({type:"highlight",seriesIndex:0,name:t}),myChart.dispatchAction({type:"showTip",seriesIndex:0,dataIndex:echarsNameObj[t]})}function hideTip(t){myChart.dispatchAction({type:"hideTip"}),myChart.dispatchAction({type:"downplay",seriesIndex:0,name:t})}