L.widget.bindClass(L.widget.BaseWidget.extend({options:{view:{type:"window",url:"view.html",windowOptions:{width:300,height:300}}},create:function(){},viewWindow:null,winCreateOK:function(t,e){this.viewWindow=e},activate:function(){var e=this,t=this.config.data||"sheng.json";$.getJSON(this.path+"data/"+t,function(t){e.isActivate&&e.showGeoJson(t)})},disable:function(){this.layerWork&&(map.removeLayer(this.layerWork),this.layerWork=null)},layerWork:null,showGeoJson:function(t){var i=this,n=L.geoJson(t,{style:function(t){var e=t.properties.color;return null==e&&(e="#FEB24C",t.properties.color=e),{weight:1,color:"white",fillOpacity:.4,fillColor:e}},onEachFeature:function(t,e){var o="<div><h5>"+t.properties.name+"</h5></div>";e.bindTooltip(o),e.on({mouseover:function(t){var e=t.target;e.setStyle({weight:2,color:"#666",dashArray:"",fillOpacity:.5}),L.Browser.ie||L.Browser.opera||e.bringToFront(),i.viewWindow.showTip(e.feature.properties)},mouseout:function(t){n.resetStyle(t.target)},click:function(t){t.target;map.fitBounds(t.target.getBounds())}})}}).addTo(map);map.fitBounds(n.getBounds()),this.layerWork=n}}));