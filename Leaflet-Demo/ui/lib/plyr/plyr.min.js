!function(e,t){"use strict";"object"==typeof module&&"object"==typeof module.exports?module.exports=t(e,document):"function"==typeof define&&define.amd?define(null,function(){t(e,document)}):e.plyr=t(e,document)}("undefined"!=typeof window?window:this,function(B,Y){"use strict";function $(){var e,t,n,r=navigator.userAgent,s=navigator.appName,a=""+parseFloat(navigator.appVersion),o=parseInt(navigator.appVersion,10);return-1!==navigator.appVersion.indexOf("Windows NT")&&-1!==navigator.appVersion.indexOf("rv:11")?(s="IE",a="11;"):-1!==(t=r.indexOf("MSIE"))?(s="IE",a=r.substring(t+5)):-1!==(t=r.indexOf("Chrome"))?(s="Chrome",a=r.substring(t+7)):-1!==(t=r.indexOf("Safari"))?(s="Safari",a=r.substring(t+7),-1!==(t=r.indexOf("Version"))&&(a=r.substring(t+8))):-1!==(t=r.indexOf("Firefox"))?(s="Firefox",a=r.substring(t+8)):(e=r.lastIndexOf(" ")+1)<(t=r.lastIndexOf("/"))&&(s=r.substring(e,t),a=r.substring(t+1),s.toLowerCase()==s.toUpperCase()&&(s=navigator.appName)),-1!==(n=a.indexOf(";"))&&(a=a.substring(0,n)),-1!==(n=a.indexOf(" "))&&(a=a.substring(0,n)),o=parseInt(""+a,10),isNaN(o)&&(a=""+parseFloat(navigator.appVersion),o=parseInt(navigator.appVersion,10)),{name:s,version:o,ios:/(iPad|iPhone|iPod)/g.test(navigator.platform),touch:"ontouchstart"in Y.documentElement}}function W(e){if(!Y.querySelectorAll('script[src="'+e+'"]').length){var t=Y.createElement("script");t.src=e;var n=Y.getElementsByTagName("script")[0];n.parentNode.insertBefore(t,n)}}function z(e,t){return Array.prototype.indexOf&&-1!=e.indexOf(t)}function K(e,t,n){return e.replace(new RegExp(t.replace(/([.*+?\^=!:${}()|\[\]\/\\])/g,"\\$1"),"g"),n)}function U(e){e&&e.parentNode.removeChild(e)}function X(e,t){e.insertBefore(t,e.firstChild)}function J(e,t){for(var n in t)e.setAttribute(n,"boolean"==typeof t[n]&&t[n]?"":t[n])}function G(e,t,n){var r=Y.createElement(e);J(r,n),X(t,r)}function Q(e){return e.replace(".","")}function Z(e,t,n){if(e)if(e.classList)e.classList[n?"add":"remove"](t);else{var r=(" "+e.className+" ").replace(/\s+/g," ").replace(" "+t+" ","");e.className=r+(n?" "+t:"")}}function ee(e,t){return!!e&&(e.classList?e.classList.contains(t):new RegExp("(\\s|^)"+t+"(\\s|$)").test(e.className))}function te(e,t,n){e&&re(e,t,n,!0)}function ne(t,e,n,r){te(t,e,function(e){n&&n.apply(t,[e]),r.apply(t,[e])})}function re(e,t,n,r){var s=t.split(" ");if(e instanceof NodeList)for(var a=0;a<e.length;a++)e[a]instanceof Node&&re(e[a],t,n,r);else for(var o=0;o<s.length;o++)e[r?"addEventListener":"removeEventListener"](s[o],n,!1)}function se(e,t,n){if(e&&t){var r=new CustomEvent(t,n);e.dispatchEvent(r)}}function ae(e,t){return e?(t="boolean"==typeof t?t:!e.getAttribute("aria-pressed"),e.setAttribute("aria-pressed",t),t):void 0}function oe(e,t){return 0===e||0===t||isNaN(e)||isNaN(t)?0:(e/t*100).toFixed(2)}function i(){var e=arguments;if(e.length){if(1==e.lenth)return e[0];for(var t=Array.prototype.shift.call(e),n=e.length,r=0;r<n;r++){var s=e[r];for(var a in s)s[a]&&s[a].constructor&&s[a].constructor===Object?(t[a]=t[a]||{},i(t[a],s[a])):t[a]=s[a]}return t}}function ie(){return{supported:function(){if(!("localStorage"in B))return!1;try{B.localStorage.setItem("___test","OK");var e=B.localStorage.getItem("___test");return B.localStorage.removeItem("___test"),"OK"===e}catch(e){return!1}return!1}()}}function l(e,u){function c(e,t){u.debug&&B.console&&console[t?"warn":"log"](e)}function t(){if(D.supported.full&&("audio"!=D.type||u.fullscreen.allowAudio)&&u.fullscreen.enabled){var e=le.supportsFullScreen;e||u.fullscreen.fallback&&!function(){try{return B.self!==B.top}catch(e){return!0}}()?(c((e?"Native":"Fallback")+" fullscreen enabled"),Z(D.container,u.classes.fullscreen.enabled,!0)):c("Fullscreen not supported and fallback disabled"),ae(D.buttons.fullscreen,!1),a(),u.fullscreen.hideControls&&Z(D.container,u.classes.fullscreen.hideControls,!0)}}function n(){if("video"===D.type){d(u.selectors.captions)||D.videoContainer.insertAdjacentHTML("afterbegin",'<div class="'+Q(u.selectors.captions)+'"></div>'),D.usingTextTracks=!1,D.media.textTracks&&(D.usingTextTracks=!0);for(var e,t="",n=D.media.childNodes,r=0;r<n.length;r++)"track"===n[r].nodeName.toLowerCase()&&(("captions"===(e=n[r].kind)||"subtitles"===e)&&(t=n[r].getAttribute("src")));if(D.captionExists=!0,""===t?(D.captionExists=!1,c("No caption track found")):c("Caption track found; URI: "+t),D.captionExists){for(var s=D.media.textTracks,a=0;a<s.length;a++)s[a].mode="hidden";if(D.buttons.captions&&(Z(D.container,u.classes.captions.enabled,!0),u.captions.defaultActive&&(Z(D.container,u.classes.captions.active,!0),ae(D.buttons.captions,!0))),("IE"===D.browser.name&&10<=D.browser.version||"Firefox"===D.browser.name&&31<=D.browser.version)&&(c("Detected browser with known TextTrack issues - using manual fallback"),D.usingTextTracks=!1),D.usingTextTracks){c("TextTracks supported");for(var o=0;o<s.length;o++){var i=s[o];("captions"===i.kind||"subtitles"===i.kind)&&te(i,"cuechange",function(){this.activeCues[0]&&"text"in this.activeCues[0]?p(this.activeCues[0].getCueAsHTML()):p()})}}else if(c("TextTracks not supported so rendering captions manually"),D.currentCaption="",D.captions=[],""!==t){var l=new XMLHttpRequest;l.onreadystatechange=function(){if(4===l.readyState)if(200===l.status){var e,t;t=l.responseText.split("\n\n");for(var n=0;n<t.length;n++){e=t[n],D.captions[n]=[];var r=e.split("\n"),s=0;-1===r[s].indexOf(":")&&(s=1),D.captions[n]=[r[s],r[s+1]]}D.captions.shift(),c("Successfully loaded the caption file via AJAX")}else c("There was a problem loading the caption file via AJAX",!0)},l.open("get",t,!0),l.send()}}else Z(D.container,u.classes.captions.enabled)}}function p(e){var t=d(u.selectors.captions),n=Y.createElement("span");t.innerHTML="",void 0===e&&(e=""),"string"==typeof e?n.innerHTML=e.trim():n.appendChild(e),t.appendChild(n),t.offsetHeight}function s(e){function t(e,t){var n=[];n=e.split(" --\x3e ");for(var r=0;r<n.length;r++)n[r]=n[r].replace(/(\d+:\d+:\d+\.\d+).*/,"$1");return function(e){if(null==e)return 0;var t=[],n=[];return t=e.split(","),n=t[0].split(":"),Math.floor(60*n[0]*60)+Math.floor(60*n[1])+Math.floor(n[2])}(n[t])}function n(e){return t(e,1)}if(!D.usingTextTracks&&"video"===D.type&&D.supported.full&&(D.subcount=0,e="number"==typeof e?e:D.media.currentTime,D.captions[D.subcount])){for(;n(D.captions[D.subcount][0])<e.toFixed(1);)if(D.subcount++,D.subcount>D.captions.length-1){D.subcount=D.captions.length-1;break}D.media.currentTime.toFixed(1)>=t(D.captions[D.subcount][0],0)&&D.media.currentTime.toFixed(1)<=n(D.captions[D.subcount][0])?(D.currentCaption=D.captions[D.subcount][1],p(D.currentCaption)):p()}}function i(e){return D.container.querySelectorAll(e)}function d(e){return i(e)[0]}function a(){var e=i("input:not([disabled]), button:not([disabled])"),t=e[0],n=e[e.length-1];te(D.container,"keydown",function(e){9===e.which&&D.isFullscreen&&(e.target!==n||e.shiftKey?e.target===t&&e.shiftKey&&(e.preventDefault(),n.focus()):(e.preventDefault(),t.focus()))})}function r(e,t){if("string"==typeof t)G(e,D.media,{src:t});else if(t.constructor===Array)for(var n=t.length-1;0<=n;n--)G(e,D.media,t[n])}function o(){var e,t,n=u.html;if(c("Injecting custom controls"),n||(e=['<div class="plyr__controls">','<div class="plyr__progress">','<label for="seek{id}" class="plyr__sr-only">Seek</label>','<input id="seek{id}" class="plyr__progress--seek" type="range" min="0" max="100" step="0.1" value="0" data-plyr="seek">','<progress class="plyr__progress--played" max="100" value="0">',"<span>0</span>% "+u.i18n.played,"</progress>",'<progress class="plyr__progress--buffer" max="100" value="0">',"<span>0</span>% "+u.i18n.buffered,"</progress>"],u.tooltips.seek&&e.push('<span class="plyr__tooltip">00:00</span>'),e.push("</div>",'<span class="plyr__controls--left">'),z(u.controls,"restart")&&e.push('<button type="button" data-plyr="restart">','<svg><use xlink:href="#'+u.iconPrefix+'-restart" /></svg>','<span class="plyr__sr-only">'+u.i18n.restart+"</span>","</button>"),z(u.controls,"rewind")&&e.push('<button type="button" data-plyr="rewind">','<svg><use xlink:href="#'+u.iconPrefix+'-rewind" /></svg>','<span class="plyr__sr-only">'+u.i18n.rewind+"</span>","</button>"),z(u.controls,"play")&&e.push('<button type="button" data-plyr="play">','<svg><use xlink:href="#'+u.iconPrefix+'-play" /></svg>','<span class="plyr__sr-only">'+u.i18n.play+"</span>","</button>",'<button type="button" data-plyr="pause">','<svg><use xlink:href="#'+u.iconPrefix+'-pause" /></svg>','<span class="plyr__sr-only">'+u.i18n.pause+"</span>","</button>"),z(u.controls,"fast-forward")&&e.push('<button type="button" data-plyr="fast-forward">','<svg><use xlink:href="#'+u.iconPrefix+'-fast-forward" /></svg>','<span class="plyr__sr-only">'+u.i18n.forward+"</span>","</button>"),z(u.controls,"current-time")&&e.push('<span class="plyr__time">','<span class="plyr__sr-only">'+u.i18n.currentTime+"</span>",'<span class="plyr__time--current">00:00</span>',"</span>"),z(u.controls,"duration")&&e.push('<span class="plyr__time">','<span class="plyr__sr-only">'+u.i18n.duration+"</span>",'<span class="plyr__time--duration">00:00</span>',"</span>"),e.push("</span>",'<span class="plyr__controls--right">'),z(u.controls,"mute")&&e.push('<button type="button" data-plyr="mute">','<svg class="icon--muted"><use xlink:href="#'+u.iconPrefix+'-muted" /></svg>','<svg><use xlink:href="#'+u.iconPrefix+'-volume" /></svg>','<span class="plyr__sr-only">'+u.i18n.toggleMute+"</span>","</button>"),z(u.controls,"volume")&&e.push('<label for="volume{id}" class="plyr__sr-only">'+u.i18n.volume+"</label>",'<input id="volume{id}" class="plyr__volume" type="range" min="0" max="10" value="5" data-plyr="volume">'),z(u.controls,"captions")&&e.push('<button type="button" data-plyr="captions">','<svg class="icon--captions-on"><use xlink:href="#'+u.iconPrefix+'-captions-on" /></svg>','<svg><use xlink:href="#'+u.iconPrefix+'-captions-off" /></svg>','<span class="plyr__sr-only">'+u.i18n.toggleCaptions+"</span>","</button>"),z(u.controls,"fullscreen")&&e.push('<button type="button" data-plyr="fullscreen">','<svg class="icon--exit-fullscreen"><use xlink:href="#'+u.iconPrefix+'-exit-fullscreen" /></svg>','<svg><use xlink:href="#'+u.iconPrefix+'-enter-fullscreen" /></svg>','<span class="plyr__sr-only">'+u.i18n.toggleFullscreen+"</span>","</button>"),e.push("</span>","</div>"),n=e.join("")),n=K(n=K(n,"{seektime}",u.seekTime),"{id}",Math.floor(1e4*Math.random())),null!==u.selectors.controls.container&&(t=u.selectors.controls.container,"string"==typeof selector&&(t=Y.querySelector(t))),t instanceof HTMLElement||(t=D.container),t.insertAdjacentHTML("beforeend",n),u.tooltips.controls)for(var r=i(u.selectors.labels+" ."+u.classes.hidden),s=r.length-1;0<=s;s--){var a=r[s];Z(a,u.classes.hidden,!1),Z(a,u.classes.tooltip,!0)}}function l(){Z(D.container,u.selectors.container.replace(".",""),D.supported.full)}function m(e){e?D.media.setAttribute("controls",""):D.media.removeAttribute("controls")}function f(e){var t=u.i18n.play;void 0!==u.title&&u.title.length&&(t+=", "+u.title),D.supported.full&&D.buttons.play&&D.buttons.play.setAttribute("aria-label",t),e instanceof HTMLElement&&e.setAttribute("title",u.i18n.frameTitle.replace("{title}",u.title))}function y(){if(!D.media)return c("No audio or video element found",!0),!1;if(D.supported.full&&(Z(D.container,u.classes.type.replace("{0}",D.type),!0),Z(D.container,u.classes.stopped,u.autoplay),Z(D.container,u.classes.isIos,D.browser.ios),Z(D.container,u.classes.isTouch,D.browser.touch),"video"===D.type)){var e=Y.createElement("div");e.setAttribute("class",u.classes.videoWrapper),function(e,t){e.length||(e=[e]);for(var n=e.length-1;0<=n;n--){var r=0<n?t.cloneNode(!0):t,s=e[n],a=s.parentNode,o=s.nextSibling;r.appendChild(s),o?a.insertBefore(r,o):a.appendChild(r)}}(D.media,e),D.videoContainer=e}z(u.types.embed,D.type)&&(function(){for(var e=Y.createElement("div"),t=D.embedId,n=D.type+"-"+Math.floor(1e4*Math.random()),r=i('[id^="'+D.type+'-"]'),s=r.length-1;0<=s;s--)U(r[s]);if(Z(D.media,u.classes.videoWrapper,!0),Z(D.media,u.classes.embedWrapper,!0),"youtube"===D.type)D.media.appendChild(e),e.setAttribute("id",n),"object"==typeof YT?v(t,e):(W(u.urls.youtube.api),B.onYouTubeReadyCallbacks=B.onYouTubeReadyCallbacks||[],B.onYouTubeReadyCallbacks.push(function(){v(t,e)}),B.onYouTubeIframeAPIReady=function(){B.onYouTubeReadyCallbacks.forEach(function(e){e()})});else if("vimeo"===D.type){var a=Y.createElement("iframe");a.loaded=!1,te(a,"load",function(){a.loaded=!0}),J(a,{src:"https://player.vimeo.com/video/"+t+"?player_id="+n+"&api=1&badge=0&byline=0&portrait=0&title=0",id:n,webkitallowfullscreen:"",mozallowfullscreen:"",allowfullscreen:"",frameborder:0}),D.supported.full?(e.appendChild(a),D.media.appendChild(e)):D.media.appendChild(a),"$f"in B||W(u.urls.vimeo.api);var o=B.setInterval(function(){"$f"in B&&a.loaded&&(B.clearInterval(o),function(){D.embed=$f(this),D.embed.addEvent("ready",function(){D.media.play=function(){D.embed.api("play"),D.media.paused=!1},D.media.pause=function(){D.embed.api("pause"),D.media.paused=!0},D.media.stop=function(){D.embed.api("stop"),D.media.paused=!0},D.media.paused=!0,D.media.currentTime=0,b(),D.embed.api("getCurrentTime",function(e){D.media.currentTime=e,se(D.media,"timeupdate")}),D.embed.api("getDuration",function(e){D.media.duration=e,L()}),D.embed.addEvent("play",function(){D.media.paused=!1,se(D.media,"play"),se(D.media,"playing")}),D.embed.addEvent("pause",function(){D.media.paused=!0,se(D.media,"pause")}),D.embed.addEvent("playProgress",function(e){D.media.seeking=!1,D.media.currentTime=e.seconds,se(D.media,"timeupdate")}),D.embed.addEvent("loadProgress",function(e){D.media.buffered=e.percent,se(D.media,"progress"),1===parseInt(e.percent)&&se(D.media,"canplaythrough")}),D.embed.addEvent("finish",function(){D.media.paused=!0,se(D.media,"ended")}),u.autoplay&&D.embed.api("play")})}.call(a))},50)}}(),D.embedId=null)}function b(){D.container.plyr.embed=D.embed,H(),f(d("iframe"))}function v(e,t){"timer"in D||(D.timer={}),D.embed=new YT.Player(t.id,{videoId:e,playerVars:{autoplay:u.autoplay?1:0,controls:D.supported.full?0:1,rel:0,showinfo:0,iv_load_policy:3,cc_load_policy:u.captions.defaultActive?1:0,cc_lang_pref:"en",wmode:"transparent",modestbranding:1,disablekb:1,origin:"*"},events:{onReady:function(e){var t=e.target;D.media.play=function(){t.playVideo(),D.media.paused=!1},D.media.pause=function(){t.pauseVideo(),D.media.paused=!0},D.media.stop=function(){t.stopVideo(),D.media.paused=!0},D.media.duration=t.getDuration(),D.media.paused=!0,D.media.currentTime=t.getCurrentTime(),D.media.muted=t.isMuted(),u.title=t.getVideoData().title,se(D.media,"timeupdate"),B.clearInterval(D.timer.buffering),D.timer.buffering=B.setInterval(function(){D.media.buffered=t.getVideoLoadedFraction(),se(D.media,"progress"),1===D.media.buffered&&(B.clearInterval(D.timer.buffering),se(D.media,"canplaythrough"))},200),b(),L()},onStateChange:function(e){var t=e.target;switch(B.clearInterval(D.timer.playing),e.data){case 0:D.media.paused=!0,se(D.media,"ended");break;case 1:D.media.paused=!1,D.media.seeking=!1,se(D.media,"play"),se(D.media,"playing"),D.timer.playing=B.setInterval(function(){D.media.currentTime=t.getCurrentTime(),se(D.media,"timeupdate")},100);break;case 2:D.media.paused=!0,se(D.media,"pause")}}}})}function g(){"play"in D.media&&D.media.play()}function h(){"pause"in D.media&&D.media.pause()}function k(e){"number"!=typeof e&&(e=u.seekTime),x(D.media.currentTime-e)}function w(e){"number"!=typeof e&&(e=u.seekTime),x(D.media.currentTime+e)}function x(e){var t=0,n=D.media.paused,r=T();"number"==typeof e?t=e:"object"!=typeof e||"input"!==e.type&&"change"!==e.type||(t=e.target.value/e.target.max*r),t<0?t=0:r<t&&(t=r);try{D.media.currentTime=t.toFixed(1)}catch(e){}if(z(u.types.embed,D.type)){switch(D.type){case"youtube":D.embed.seekTo(t);break;case"vimeo":D.embed.api("seekTo",t.toFixed(0))}n&&h(),se(D.media,"timeupdate"),D.media.seeking=!0}c("Seeking to "+D.media.currentTime+" seconds"),s(t)}function T(){var e=parseInt(u.duration);return isNaN(e)?D.media.duration:e}function _(){Z(D.container,u.classes.playing,!D.media.paused),Z(D.container,u.classes.stopped,D.media.paused)}function F(e){var t,n,r,s=le.supportsFullScreen;e&&e.type===le.fullScreenEventName?D.isFullscreen=le.isFullScreen(D.container):s?(le.isFullScreen(D.container)?le.cancelFullScreen():le.requestFullScreen(D.container),D.isFullscreen=le.isFullScreen(D.container)):(D.isFullscreen=!D.isFullscreen,D.isFullscreen?(te(Y,"keyup",C),Y.body.style.overflow="hidden"):(n="keyup",r=C,(t=Y)&&re(t,n,r,!1),Y.body.style.overflow="")),Z(D.container,u.classes.fullscreen.active,D.isFullscreen),D.isFullscreen?D.container.setAttribute("tabindex","-1"):D.container.removeAttribute("tabindex"),a(D.isFullscreen),ae(D.buttons.fullscreen,D.isFullscreen),u.fullscreen.hideControls&&q(!0),se(D.container,D.isFullscreen?"enterfullscreen":"exitfullscreen")}function C(e){27===(e.which||e.charCode||e.keyCode)&&D.isFullscreen&&F()}function E(e){if("boolean"!=typeof e&&(e=!D.media.muted),ae(D.buttons.mute,e),D.media.muted=e,z(u.types.embed,D.type)){switch(D.type){case"youtube":D.embed[D.media.muted?"mute":"unMute"]();break;case"vimeo":D.embed.api("setVolume",D.media.muted?0:parseFloat(u.volume/10))}se(D.media,"volumechange")}}function S(e){if(void 0===e&&(e=u.volume,u.storage.enabled&&ie().supported&&(e=B.localStorage.getItem(u.storage.key),B.localStorage.removeItem("plyr-volume"))),(null===e||isNaN(e))&&(e=u.volume),10<e&&(e=10),e<0&&(e=0),D.media.volume=parseFloat(e/10),u.volume=e,z(u.types.embed,D.type)){switch(D.type){case"youtube":D.embed.setVolume(100*D.media.volume);break;case"vimeo":D.embed.api("setVolume",D.media.volume)}se(D.media,"volumechange")}D.media.muted&&0<e&&E()}function A(){var e=D.media.muted?0:10*D.media.volume;D.supported.full&&D.volume&&(D.volume.value=e),u.storage.enabled&&ie().supported&&!isNaN(e)&&B.localStorage.setItem(u.storage.key,e),Z(D.container,u.classes.muted,0===e),D.supported.full&&D.buttons.mute&&ae(D.buttons.mute,0===e)}function N(e){D.supported.full&&D.buttons.captions&&("boolean"!=typeof e&&(e=-1===D.container.className.indexOf(u.classes.captions.active)),D.captionsEnabled=e,ae(D.buttons.captions,D.captionsEnabled),Z(D.container,u.classes.captions.active,D.captionsEnabled),se(D.container,D.captionsEnabled?"captionsenabled":"captionsdisabled"))}function I(e){var t="waiting"===e.type;clearTimeout(D.timers.loading),D.timers.loading=setTimeout(function(){Z(D.container,u.classes.loading,t)},t?250:0)}function P(e){var t,n=D.progress.played.bar,r=D.progress.played.text,s=0,a=T();if(e)switch(e.type){case"timeupdate":case"seeking":s=oe(D.media.currentTime,a),"timeupdate"==e.type&&D.buttons.seek&&(D.buttons.seek.value=s);break;case"change":case"input":s=e.target.value;break;case"playing":case"progress":n=D.progress.buffer.bar,r=D.progress.buffer.text,s=(t=D.media.buffered)&&t.length?oe(t.end(0),a):"number"==typeof t?100*t:0}n&&(n.value=s),r&&(r.innerHTML=s)}function M(e,t){if(t){isNaN(e)&&(e=0),D.secs=parseInt(e%60),D.mins=parseInt(e/60%60),D.hours=parseInt(e/60/60%60);var n=0<parseInt(T()/60/60%60);D.secs=("0"+D.secs).slice(-2),D.mins=("0"+D.mins).slice(-2),t.innerHTML=(n?D.hours+":":"")+D.mins+":"+D.secs}}function L(){if(D.supported.full){var e=T()||0;!D.duration&&u.displayDuration&&D.media.paused&&M(e,D.currentTime),D.duration&&M(e,D.duration),V()}}function O(e){M(D.media.currentTime,D.currentTime),e&&"timeupdate"==e.type&&D.media.seeking||P(e)}function V(e){if(u.tooltips.seek&&!D.browser.touch){var t=D.progress.container.getBoundingClientRect(),n=0,r=u.classes.tooltip+"--visible";if(e)n=100/t.width*(e.pageX-t.left);else{if(!ee(D.progress.tooltip,r))return;n=D.progress.tooltip.style.left.replace("%","")}n<0?n=0:100<n&&(n=100),M(T()/100*n,D.progress.tooltip),D.progress.tooltip.style.left=n+"%",e&&z(["mouseenter","mouseleave"],e.type)&&Z(D.progress.tooltip,r,"mouseenter"===e.type)}}function q(e){D.isFullscreen&&(Z(D.container,u.classes.hover,!0),B.clearTimeout(D.timers.hover),D.timers.hover=B.setTimeout(function(){D.controls.mouseover&&!0!==e||Z(D.container,u.classes.hover,!1)},2e3))}function R(){function e(){var e=D.media.paused;e?g():h();var t=D.buttons[e?"play":"pause"],n=D.buttons[e?"pause":"play"];if(n){var r=ee(t,u.classes.tabFocus);setTimeout(function(){n.focus(),r&&(Z(t,u.classes.tabFocus,!1),Z(n,u.classes.tabFocus,!0))},100)}}var t="IE"==D.browser.name?"change":"input";for(var n in te(B,"keyup",function(e){9==(e.keyCode?e.keyCode:e.which)&&function(){var e=Y.activeElement;for(var t in e&&e!=Y.body?Y.querySelector&&(e=Y.querySelector(":focus")):e=null,D.buttons){var n=D.buttons[t];Z(n,u.classes.tabFocus,n===e)}}()}),te(Y.body,"click",function(){Z(d("."+u.classes.tabFocus),u.classes.tabFocus,!1)}),D.buttons){var r=D.buttons[n];te(r,"blur",function(){Z(r,"tab-focus",!1)})}ne(D.buttons.play,"click",u.listeners.play,e),ne(D.buttons.pause,"click",u.listeners.pause,e),ne(D.buttons.restart,"click",u.listeners.restart,x),ne(D.buttons.rewind,"click",u.listeners.rewind,k),ne(D.buttons.forward,"click",u.listeners.forward,w),ne(D.buttons.seek,t,u.listeners.seek,x),ne(D.volume,t,u.listeners.volume,function(){S(D.volume.value)}),ne(D.buttons.mute,"click",u.listeners.mute,E),ne(D.buttons.fullscreen,"click",u.listeners.fullscreen,F),le.supportsFullScreen&&te(Y,le.fullScreenEventName,F),te(D.buttons.captions,"click",N),te(D.progress.container,"mouseenter mouseleave mousemove",V),u.fullscreen.hideControls&&te(D.controls,"mouseenter mouseleave",function(e){D.controls.mouseover="mouseenter"===e.type})}function j(){if(D.init)return null;le=function(){var e={supportsFullScreen:!1,isFullScreen:function(){return!1},requestFullScreen:function(){},cancelFullScreen:function(){},fullScreenEventName:"",element:null,prefix:""},t="webkit moz o ms khtml".split(" ");if(void 0!==Y.cancelFullScreen)e.supportsFullScreen=!0;else for(var n=0,r=t.length;n<r;n++){if(e.prefix=t[n],void 0!==Y[e.prefix+"CancelFullScreen"]){e.supportsFullScreen=!0;break}if(void 0!==Y.msExitFullscreen&&Y.msFullscreenEnabled){e.prefix="ms",e.supportsFullScreen=!0;break}}return e.supportsFullScreen&&(e.fullScreenEventName="ms"==e.prefix?"MSFullscreenChange":e.prefix+"fullscreenchange",e.isFullScreen=function(e){switch(void 0===e&&(e=Y.body),this.prefix){case"":return Y.fullscreenElement==e;case"moz":return Y.mozFullScreenElement==e;default:return Y[this.prefix+"FullscreenElement"]==e}},e.requestFullScreen=function(e){return void 0===e&&(e=Y.body),""===this.prefix?e.requestFullScreen():e[this.prefix+("ms"==this.prefix?"RequestFullscreen":"RequestFullScreen")]()},e.cancelFullScreen=function(){return""===this.prefix?Y.cancelFullScreen():Y[this.prefix+("ms"==this.prefix?"ExitFullscreen":"CancelFullScreen")]()},e.element=function(){return""===this.prefix?Y.fullscreenElement:Y[this.prefix+"FullscreenElement"]}),e}(),D.browser=$(),D.media=D.container.querySelectorAll("audio, video, div")[0],D.originalClassName=D.container.className;var e=D.media.tagName.toLowerCase();if("div"===e?(D.type=D.media.getAttribute("data-type"),D.embedId=D.media.getAttribute("data-video-id"),D.media.removeAttribute("data-type"),D.media.removeAttribute("data-video-id")):(D.type=e,u.crossorigin=null!==D.media.getAttribute("crossorigin"),u.autoplay=u.autoplay||null!==D.media.getAttribute("autoplay"),u.loop=u.loop||null!==D.media.getAttribute("loop")),D.supported=ue.supported(D.type),l(),!D.supported.basic)return!1;if(c(D.browser.name+" "+D.browser.version),y(),z(u.types.html5,D.type)){if(!D.supported.full)return void(D.init=!0);H(),f(),u.autoplay&&g()}D.init=!0}function H(){if(!D.supported.full)return c("No full support for this media type ("+D.type+")",!0),U(d(u.selectors.controls.wrapper)),void m(!0);var e=!i(u.selectors.controls.wrapper).length;e&&o(),function(){try{return D.controls=d(u.selectors.controls.wrapper),D.buttons={},D.buttons.seek=d(u.selectors.buttons.seek),D.buttons.play=d(u.selectors.buttons.play),D.buttons.pause=d(u.selectors.buttons.pause),D.buttons.restart=d(u.selectors.buttons.restart),D.buttons.rewind=d(u.selectors.buttons.rewind),D.buttons.forward=d(u.selectors.buttons.forward),D.buttons.fullscreen=d(u.selectors.buttons.fullscreen),D.buttons.volume=d(u.selectors.buttons.volume),D.buttons.mute=d(u.selectors.buttons.mute),D.buttons.captions=d(u.selectors.buttons.captions),D.checkboxes=i('[type="checkbox"]'),D.progress={},D.progress.container=d(u.selectors.progress.container),D.progress.buffer={},D.progress.buffer.bar=d(u.selectors.progress.buffer),D.progress.buffer.text=D.progress.buffer.bar&&D.progress.buffer.bar.getElementsByTagName("span")[0],D.progress.played={},D.progress.played.bar=d(u.selectors.progress.played),D.progress.played.text=D.progress.played.bar&&D.progress.played.bar.getElementsByTagName("span")[0],D.progress.tooltip=D.progress.container&&D.progress.container.querySelector("."+u.classes.tooltip),D.volume=d(u.selectors.buttons.volume),D.duration=d(u.selectors.duration),D.currentTime=d(u.selectors.currentTime),D.seekTime=i(u.selectors.seekTime),!0}catch(e){return c("It looks like there is a problem with your controls html",!0),m(!0),!1}}()&&(e&&R(),te(D.media,"timeupdate seeking",O),te(D.media,"timeupdate",s),te(D.media,"durationchange loadedmetadata",L),te(D.media,"ended",function(){"video"===D.type&&p(),_()}),te(D.media,"progress playing",P),te(D.media,"volumechange",A),te(D.media,"play pause",_),te(D.media,"waiting canplay seeked",I),u.click&&te(D.media,"click",function(){D.media.paused?g():D.media.ended?(x(),g()):h()}),u.fullscreen.hideControls&&te(D.media,"mousemove",q),te(D.media,u.events.join(" "),function(e){se(D.container,e.type)}),m(),t(),n(),S(),A(),O(),_(),L(),se(D.container,"ready"))}var D=this;return D.container=e,D.timers={},c(u),j(),D.init?{media:D.media,play:g,pause:h,restart:x,rewind:k,forward:w,seek:x,source:function(e){if(void 0===e){var t;switch(D.type){case"youtube":t=D.embed.getVideoUrl();break;case"vimeo":D.embed.api("getVideoUrl",function(e){t=e});break;default:t=D.media.currentSrc}return t||""}!function(e){if(!(void 0!==e&&"sources"in e&&e.sources.length))return c("Invalid source format",!0);if(h(),"youtube"===D.type?(D.embed.destroy(),B.clearInterval(D.timer.buffering),B.clearInterval(D.timer.playing)):"video"===D.type&&D.videoContainer&&U(D.videoContainer),D.embed=null,function(){if(z(u.types.html5,D.type)){D.media.setAttribute("src","");for(var e=D.media.querySelectorAll("source"),t=0;t<e.length;t++)U(e[t]);D.media.load(),c("Cancelled network requests for old media")}}(),U(D.media),"type"in e&&(D.type=e.type,"video"===D.type)){var t=e.sources[0];"type"in t&&z(u.types.embed,t.type)&&(D.type=t.type)}switch(D.supported=ue.supported(D.type),D.type){case"video":D.media=Y.createElement("video");break;case"audio":D.media=Y.createElement("audio");break;case"youtube":case"vimeo":D.media=Y.createElement("div"),D.embedId=e.sources[0].src}X(D.container,D.media),void 0!==e.autoplay&&(u.autoplay=e.autoplay),z(u.types.html5,D.type)&&(u.crossorigin&&D.media.setAttribute("crossorigin",""),u.autoplay&&D.media.setAttribute("autoplay",""),"poster"in e&&D.media.setAttribute("poster",e.poster),u.loop&&D.media.setAttribute("loop","")),D.container.className=D.originalClassName,Z(D.container,u.classes.fullscreen.active,D.isFullscreen),Z(D.container,u.classes.captions.active,D.captionsEnabled),l(),z(u.types.html5,D.type)&&r("source",e.sources),y(),z(u.types.html5,D.type)&&("tracks"in e&&r("track",e.tracks),D.media.load(),H(),L()),u.title=e.title,f(),D.container.plyr.media=D.media}(e)},poster:function(e){"video"===D.type&&D.media.setAttribute("poster",e)},setVolume:S,togglePlay:function(e){!0===e?g():!1===e?h():D.media[D.media.paused?"play":"pause"]()},toggleMute:E,toggleCaptions:N,toggleFullscreen:F,isFullscreen:function(){return D.isFullscreen||!1},support:function(e){return function(e,t){var n=e.media;if("video"==e.type)switch(t){case"video/webm":return!(!n.canPlayType||!n.canPlayType('video/webm; codecs="vp8, vorbis"').replace(/no/,""));case"video/mp4":return!(!n.canPlayType||!n.canPlayType('video/mp4; codecs="avc1.42E01E, mp4a.40.2"').replace(/no/,""));case"video/ogg":return!(!n.canPlayType||!n.canPlayType('video/ogg; codecs="theora"').replace(/no/,""))}else if("audio"==e.type)switch(t){case"audio/mpeg":return!(!n.canPlayType||!n.canPlayType("audio/mpeg;").replace(/no/,""));case"audio/ogg":return!(!n.canPlayType||!n.canPlayType('audio/ogg; codecs="vorbis"').replace(/no/,""));case"audio/wav":return!(!n.canPlayType||!n.canPlayType('audio/wav; codecs="1"').replace(/no/,""))}return!1}(D,e)},destroy:function(){if(!D.init)return null;if(D.container.setAttribute("class",Q(u.selectors.container)),D.init=!1,U(d(u.selectors.controls.wrapper)),"youtube"!==D.type){"video"===D.type&&(U(d(u.selectors.captions)),function(e){for(var t=e.parentNode;e.firstChild;)t.insertBefore(e.firstChild,e);t.removeChild(e)}(D.videoContainer)),m(!0);var e=D.media.cloneNode(!0);D.media.parentNode.replaceChild(e,D.media)}else D.embed.destroy()},restore:j}:{}}var le,ue={},u={enabled:!0,debug:!1,autoplay:!1,loop:!1,seekTime:10,volume:5,duration:null,displayDuration:!0,iconPrefix:"icon",click:!0,tooltips:{controls:!1,seek:!0},selectors:{container:".plyr",controls:{container:null,wrapper:".plyr__controls"},labels:"[data-plyr]",buttons:{seek:'[data-plyr="seek"]',play:'[data-plyr="play"]',pause:'[data-plyr="pause"]',restart:'[data-plyr="restart"]',rewind:'[data-plyr="rewind"]',forward:'[data-plyr="fast-forward"]',mute:'[data-plyr="mute"]',volume:'[data-plyr="volume"]',captions:'[data-plyr="captions"]',fullscreen:'[data-plyr="fullscreen"]'},progress:{container:".plyr__progress",buffer:".plyr__progress--buffer",played:".plyr__progress--played"},captions:".plyr__captions",currentTime:".plyr__time--current",duration:".plyr__time--duration"},classes:{videoWrapper:"plyr__video-wrapper",embedWrapper:"plyr__video-embed",type:"plyr--{0}",stopped:"plyr--stopped",playing:"plyr--playing",muted:"plyr--muted",loading:"plyr--loading",hover:"plyr--hover",tooltip:"plyr__tooltip",hidden:"plyr__sr-only",isIos:"plyr--is-ios",isTouch:"plyr--is-touch",captions:{enabled:"plyr--captions-enabled",active:"plyr--captions-active"},fullscreen:{enabled:"plyr--fullscreen-enabled",active:"plyr--fullscreen-active",hideControls:"plyr--fullscreen--hide-controls"},tabFocus:"tab-focus"},captions:{defaultActive:!1},fullscreen:{enabled:!0,fallback:!0,hideControls:!0,allowAudio:!1},storage:{enabled:!0,key:"plyr"},controls:["restart","rewind","play","fast-forward","current-time","duration","mute","volume","captions","fullscreen"],i18n:{restart:"Restart",rewind:"Rewind {seektime} secs",play:"Play",pause:"Pause",forward:"Forward {seektime} secs",played:"played",buffered:"buffered",currentTime:"Current time",duration:"Duration",volume:"Volume",toggleMute:"Toggle Mute",toggleCaptions:"Toggle Captions",toggleFullscreen:"Toggle Fullscreen",frameTitle:"Player for {title}"},types:{embed:["youtube","vimeo"],html5:["video","audio"]},urls:{vimeo:{api:"https://cdn.plyr.io/froogaloop/1.0.1/plyr.froogaloop.js"},youtube:{api:"https://www.youtube.com/iframe_api"}},listeners:{seek:null,play:null,pause:null,restart:null,rewind:null,forward:null,mute:null,volume:null,captions:null,fullscreen:null},events:["ended","progress","stalled","playing","waiting","canplay","canplaythrough","loadstart","loadeddata","loadedmetadata","timeupdate","volumechange","play","pause","error","seeking","emptied"]};return ue.supported=function(e){var t,n,r=$(),s="IE"===r.name&&r.version<=9,a=/iPhone|iPod/i.test(navigator.userAgent),o=!!Y.createElement("audio").canPlayType,i=!!Y.createElement("video").canPlayType;switch(e){case"video":n=(t=i)&&!s&&!a;break;case"audio":n=(t=o)&&!s;break;case"vimeo":case"youtube":t=!0,n=!s&&!a;break;default:n=(t=o&&i)&&!s}return{basic:t,full:n}},ue.setup=function(e,t){var n=[];if("string"==typeof e?e=Y.querySelectorAll(e):e instanceof HTMLElement?e=[e]:e instanceof NodeList||"string"==typeof e||(void 0===t&&"object"==typeof e&&(t=e),e=Y.querySelectorAll(u.selectors.container)),!ue.supported().basic||!e.length)return!1;for(var r=0;r<e.length;r++){var s=e[r];if(void 0===s.plyr){var a=i(u,t,JSON.parse(s.getAttribute("data-plyr")));if(!a.enabled)return;var o=new l(s,a);s.plyr=!!Object.keys(o).length&&o,se(s,"setup",{plyr:s.plyr})}n.push(s.plyr)}return n},ue}),function(){function e(e,t){t=t||{bubbles:!1,cancelable:!1,detail:void 0};var n=document.createEvent("CustomEvent");return n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),n}"function"!=typeof window.CustomEvent&&(e.prototype=window.Event.prototype,window.CustomEvent=e)}();